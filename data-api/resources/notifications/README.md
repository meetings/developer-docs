# User notification resources

## Resource representation

    {
        id : s*,
        type : s*, // various, for example "rsvp"; documented in the next chapter
        date : i*,
        is_seen : 1|0,
        is_read : 1|0,
        data : {} // documented in the next chapter
    }

## Types and associated data

### rsvp

User was invited to a meeting and RSVP is requested

    data : {
        meeting : {*},
        author : {*}
    }

### meetme_rsvp

User was invited to a meeting in response to users meetme request and RSVP is requested

    data : {
        meeting : {*},
        author : {*}
    }

### invited

User was invited to a meeting without an RSVP request

    data : {
        meeting : {*},
        author : {*}
    }

### meetme_invited

User was invited to a meeting in response to users meetme request without an RSVP request

    data : {
        meeting : {*},
        author : {*}
    }

### new\_meeting\_title

Meeting title was changed

    data : {
        old_title : s,
        meeting : {*},
        author : {*}
    }

### new\_meeting\_date

Meeting date was changed

    data : {
        meeting : {*},
        author : {*}
    }

### decided\_meeting\_date

Meeting date was set for a meeting that previously had no time

    data : {
        meeting : {*},
        author : {*}
    }

### new\_meeting\_location

Meeting location was changed

    data : {
        meeting : {*},
        author : {*}
    }

### decided\_meeting\_location

Meeting location was set for a meeting that previously had no location

    data : {
        meeting : {*},
        author : {*}
    }

### new\_participant

A participant was added to a meeting

    data : {
        user : {*},
        meeting : {*},
        author : {*}
    }

### new\_participants\_collated (NOT IMPLEMENTED YET)

Several new\_participant notifications were combined into one

    data : {
        users : [ {*} ],
        meeting : {*},
        author : {*}
    }

### new\_material

A new material was added to the meeting

    data : {
        material : {*},
        meeting : {*},
        author : {*}
    }

### new\_material\_comment

A new comment was added to a meeting material

    data : {
        material : {*},
        meeting : {*},
        author : {*}
    }

### meetme\_request

A new meet me request has arrived. Data is found within the meeting data.

    data : {
        meeting : {*},
        author : {*}
    }

## List

    GET /v1/users/:uid/notifications

## Fetch (NOT IMPLEMENTED YET)

~~GET /v1/users/:uid/notifications/:id~~

## Update

### Actions

#### Mark single as READ:

    POST /v1/users/:uid/notifications/:id/mark_read
    
Returns the notification object

#### Mark many at a time SEEN:

    POST /v1/users/:uid/notifications/mark_seen

Parameters:
    
    {
        id_list : [ * ] // collection of id's to mark as seen.
    }
    
Returns:

    {
        notifications_marked_as_seen : [ * ] // collection of notification resources
    }
    
### RESTish

    PUT /v1/users/:uid/notifications/:id

Only is\_seen and is\_read parameters are mutable. They are also mutable only from false to true. Setting is\_read will also set is\_read.
    
Returns the notification object

## Inserting

Notifications can not be inserted programmatically. They are generated by doing things in the system.


